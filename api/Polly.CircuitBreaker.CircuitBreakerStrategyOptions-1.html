<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
      <title>Class CircuitBreakerStrategyOptions&lt;TResult&gt; | Polly </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class CircuitBreakerStrategyOptions&lt;TResult&gt; | Polly ">
      
      <meta name="description" content="The options for circuit breaker resilience strategy.">
      <link rel="icon" href="../icon.png">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/App-vNext/Polly/new/main/apiSpec/new?filename=Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1.md&amp;value=---%0Auid%3A%20Polly.CircuitBreaker.CircuitBreakerStrategyOptions%601%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../icon.png" alt="Polly">
            Polly
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1">



  <h1 id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1" class="text-break">
Class CircuitBreakerStrategyOptions&lt;TResult&gt;  <a class="header-action link-secondary" title="View source" href="https://github.com/App-vNext/Polly/blob/main/src/Polly.Core/CircuitBreaker/CircuitBreakerStrategyOptions.TResult.cs/#L25"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="Polly.html">Polly</a>.<a class="xref" href="Polly.CircuitBreaker.html">CircuitBreaker</a></dd></dl>
  <dl><dt>Assembly</dt><dd>Polly.Core.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>The options for circuit breaker resilience strategy.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public class CircuitBreakerStrategyOptions&lt;TResult&gt; : ResilienceStrategyOptions</code></pre>
  </div>



  <h4 class="section">Type Parameters</h4>
  <dl class="parameters">
    <dt><code>TResult</code></dt>
    <dd><p>The type of result the circuit breaker strategy handles.</p>
</dd>
  </dl>

  <dl class="typelist inheritance">
    <dt>Inheritance</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></div>
      <div><a class="xref" href="Polly.ResilienceStrategyOptions.html">ResilienceStrategyOptions</a></div>
      <div><span class="xref">CircuitBreakerStrategyOptions&lt;TResult&gt;</span></div>
    </dd>
  </dl>


  <dl class="typelist derived">
    <dt>Derived</dt>
    <dd>
      <div><a class="xref" href="Polly.CircuitBreaker.CircuitBreakerStrategyOptions.html">CircuitBreakerStrategyOptions</a></div>
    </dd>
  </dl>

  <dl class="typelist inheritedMembers">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="Polly.ResilienceStrategyOptions.html#Polly_ResilienceStrategyOptions_Name">ResilienceStrategyOptions.Name</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">object.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode">object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.memberwiseclone">object.MemberwiseClone()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.tostring">object.ToString()</a>
    </div>
  </dd></dl>




  <h2 id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_remarks">Remarks</h2>
  <div class="markdown level0 remarks"><p>The circuit will break if, within any time-slice of duration <a class="xref" href="Polly.CircuitBreaker.CircuitBreakerStrategyOptions-1.html#Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_SamplingDuration">SamplingDuration</a>,
the proportion of actions resulting in a handled exception exceeds <a class="xref" href="Polly.CircuitBreaker.CircuitBreakerStrategyOptions-1.html#Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_FailureRatio">FailureRatio</a>,
provided also that the number of actions through the circuit in the time-slice is at least <a class="xref" href="Polly.CircuitBreaker.CircuitBreakerStrategyOptions-1.html#Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_MinimumThroughput">MinimumThroughput</a>.</p>
<p>
The circuit will stay broken for the <a class="xref" href="Polly.CircuitBreaker.CircuitBreakerStrategyOptions-1.html#Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_BreakDuration">BreakDuration</a>.
Any attempt to execute this while the circuit is broken, will immediately throw a <a class="xref" href="Polly.CircuitBreaker.BrokenCircuitException.html">BrokenCircuitException</a> containing the exception
that broke the circuit.
</p>
<p>
If the first action after the break duration period results in a handled exception, the circuit will break
again for another <a class="xref" href="Polly.CircuitBreaker.CircuitBreakerStrategyOptions-1.html#Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_BreakDuration">BreakDuration</a>; if no exception is thrown, the circuit will reset.
</p>
</div>


  <h2 class="section" id="constructors">Constructors
</h2>


  <a id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1__ctor_" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1.#ctor*"></a>

  <h3 id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1__ctor" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1.#ctor">
  CircuitBreakerStrategyOptions()
  <a class="header-action link-secondary" title="View source" href="https://github.com/App-vNext/Polly/blob/main/src/Polly.Core/CircuitBreaker/CircuitBreakerStrategyOptions.TResult.cs/#L30"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="Polly.CircuitBreaker.CircuitBreakerStrategyOptions-1.html">CircuitBreakerStrategyOptions&lt;TResult&gt;</a> class.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public CircuitBreakerStrategyOptions()</code></pre>
  </div>













  <h2 class="section" id="properties">Properties
</h2>


  <a id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_BreakDuration_" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1.BreakDuration*"></a>

  <h3 id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_BreakDuration" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1.BreakDuration">
  BreakDuration
  <a class="header-action link-secondary" title="View source" href="https://github.com/App-vNext/Polly/blob/main/src/Polly.Core/CircuitBreaker/CircuitBreakerStrategyOptions.TResult.cs/#L68"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the duration of break the circuit will stay open before resetting.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Range(typeof(TimeSpan), &quot;00:00:00.500&quot;, &quot;1.00:00:00&quot;)]
public TimeSpan BreakDuration { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.timespan">TimeSpan</a></dt>
    <dd><p>The default value is 5 seconds. Value must be greater than 0.5 seconds.</p>
</dd>
  </dl>








  <a id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_BreakDurationGenerator_" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1.BreakDurationGenerator*"></a>

  <h3 id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_BreakDurationGenerator" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1.BreakDurationGenerator">
  BreakDurationGenerator
  <a class="header-action link-secondary" title="View source" href="https://github.com/App-vNext/Polly/blob/main/src/Polly.Core/CircuitBreaker/CircuitBreakerStrategyOptions.TResult.cs/#L78"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets an optional delegate to use to dynamically generate the break duration.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Func&lt;BreakDurationGeneratorArguments, ValueTask&lt;TimeSpan&gt;&gt;? BreakDurationGenerator { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.func-2">Func</a>&lt;<a class="xref" href="Polly.CircuitBreaker.BreakDurationGeneratorArguments.html">BreakDurationGeneratorArguments</a>, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.valuetask-1">ValueTask</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.timespan">TimeSpan</a>&gt;&gt;</dt>
    <dd><p>The default value is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null">null</a>.</p>
</dd>
  </dl>








  <a id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_FailureRatio_" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1.FailureRatio*"></a>

  <h3 id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_FailureRatio" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1.FailureRatio">
  FailureRatio
  <a class="header-action link-secondary" title="View source" href="https://github.com/App-vNext/Polly/blob/main/src/Polly.Core/CircuitBreaker/CircuitBreakerStrategyOptions.TResult.cs/#L39"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the failure-to-success ratio at which the circuit will break.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Range(0, 1)]
public double FailureRatio { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a></dt>
    <dd><p>A ratio number higher than 0, up to 1. The default value is 0.1 (i.e. 10%).</p>
</dd>
  </dl>




  <h4 class="section" id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_FailureRatio_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>A number between zero and one (inclusive) e.g. 0.5 represents breaking if 50% or more of actions result in a handled failure.</p>
</div>




  <a id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_ManualControl_" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1.ManualControl*"></a>

  <h3 id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_ManualControl" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1.ManualControl">
  ManualControl
  <a class="header-action link-secondary" title="View source" href="https://github.com/App-vNext/Polly/blob/main/src/Polly.Core/CircuitBreaker/CircuitBreakerStrategyOptions.TResult.cs/#L142"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the manual control for the circuit breaker.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public CircuitBreakerManualControl? ManualControl { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="Polly.CircuitBreaker.CircuitBreakerManualControl.html">CircuitBreakerManualControl</a></dt>
    <dd><p>The default value is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null">null</a>.</p>
</dd>
  </dl>








  <a id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_MinimumThroughput_" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1.MinimumThroughput*"></a>

  <h3 id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_MinimumThroughput" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1.MinimumThroughput">
  MinimumThroughput
  <a class="header-action link-secondary" title="View source" href="https://github.com/App-vNext/Polly/blob/main/src/Polly.Core/CircuitBreaker/CircuitBreakerStrategyOptions.TResult.cs/#L49"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the minimum throughput: this many actions or more must pass through the circuit in the time-slice,
for statistics to be considered significant and the circuit-breaker to come into action.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Range(2, 2147483647)]
public int MinimumThroughput { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>The default value is 100. The value must be 2 or greater.</p>
</dd>
  </dl>








  <a id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_OnClosed_" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1.OnClosed*"></a>

  <h3 id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_OnClosed" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1.OnClosed">
  OnClosed
  <a class="header-action link-secondary" title="View source" href="https://github.com/App-vNext/Polly/blob/main/src/Polly.Core/CircuitBreaker/CircuitBreakerStrategyOptions.TResult.cs/#L104"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the event that is raised when the circuit resets to a <a class="xref" href="Polly.CircuitBreaker.CircuitState.html#Polly_CircuitBreaker_CircuitState_Closed">Closed</a> state.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Func&lt;OnCircuitClosedArguments&lt;TResult&gt;, ValueTask&gt;? OnClosed { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.func-2">Func</a>&lt;<a class="xref" href="Polly.CircuitBreaker.OnCircuitClosedArguments-1.html">OnCircuitClosedArguments</a>&lt;TResult&gt;, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.valuetask">ValueTask</a>&gt;</dt>
    <dd><p>The default value is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null">null</a>.</p>
</dd>
  </dl>




  <h4 class="section" id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_OnClosed_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>The callbacks registered to this event are invoked with eventual consistency. There is no guarantee that the circuit breaker
doesn't change the state before the callbacks finish. If you need to know the up-to-date state of the circuit breaker use
the <a class="xref" href="Polly.CircuitBreaker.CircuitBreakerStateProvider.html#Polly_CircuitBreaker_CircuitBreakerStateProvider_CircuitState">CircuitState</a> property.</p>
<p>
Note that these events might be executed asynchronously at a later time when the circuit state is no longer the same as at the point of invocation of the event.
However, the invocation order of the <a class="xref" href="Polly.CircuitBreaker.CircuitBreakerStrategyOptions-1.html#Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_OnOpened">OnOpened</a>, <a class="xref" href="Polly.CircuitBreaker.CircuitBreakerStrategyOptions-1.html#Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_OnClosed">OnClosed</a>, and <a class="xref" href="Polly.CircuitBreaker.CircuitBreakerStrategyOptions-1.html#Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_OnHalfOpened">OnHalfOpened</a> events is always
maintained to ensure the correct sequence of state transitions.
</p>
</div>




  <a id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_OnHalfOpened_" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1.OnHalfOpened*"></a>

  <h3 id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_OnHalfOpened" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1.OnHalfOpened">
  OnHalfOpened
  <a class="header-action link-secondary" title="View source" href="https://github.com/App-vNext/Polly/blob/main/src/Polly.Core/CircuitBreaker/CircuitBreakerStrategyOptions.TResult.cs/#L136"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the event that is raised when when the circuit transitions to an <a class="xref" href="Polly.CircuitBreaker.CircuitState.html#Polly_CircuitBreaker_CircuitState_HalfOpen">HalfOpen</a> state.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Func&lt;OnCircuitHalfOpenedArguments, ValueTask&gt;? OnHalfOpened { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.func-2">Func</a>&lt;<a class="xref" href="Polly.CircuitBreaker.OnCircuitHalfOpenedArguments.html">OnCircuitHalfOpenedArguments</a>, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.valuetask">ValueTask</a>&gt;</dt>
    <dd><p>The default value is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null">null</a>.</p>
</dd>
  </dl>




  <h4 class="section" id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_OnHalfOpened_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>The callbacks registered to this event are invoked with eventual consistency. There is no guarantee that the circuit breaker
doesn't change the state before the callbacks finish. If you need to know the up-to-date state of the circuit breaker use
the <a class="xref" href="Polly.CircuitBreaker.CircuitBreakerStateProvider.html#Polly_CircuitBreaker_CircuitBreakerStateProvider_CircuitState">CircuitState</a> property.</p>
<p>
Note that these events might be executed asynchronously at a later time when the circuit state is no longer the same as at the point of invocation of the event.
However, the invocation order of the <a class="xref" href="Polly.CircuitBreaker.CircuitBreakerStrategyOptions-1.html#Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_OnOpened">OnOpened</a>, <a class="xref" href="Polly.CircuitBreaker.CircuitBreakerStrategyOptions-1.html#Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_OnClosed">OnClosed</a>, and <a class="xref" href="Polly.CircuitBreaker.CircuitBreakerStrategyOptions-1.html#Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_OnHalfOpened">OnHalfOpened</a> events is always
maintained to ensure the correct sequence of state transitions.
</p>
</div>




  <a id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_OnOpened_" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1.OnOpened*"></a>

  <h3 id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_OnOpened" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1.OnOpened">
  OnOpened
  <a class="header-action link-secondary" title="View source" href="https://github.com/App-vNext/Polly/blob/main/src/Polly.Core/CircuitBreaker/CircuitBreakerStrategyOptions.TResult.cs/#L120"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the event that is raised when the circuit transitions to an <a class="xref" href="Polly.CircuitBreaker.CircuitState.html#Polly_CircuitBreaker_CircuitState_Open">Open</a> state.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Func&lt;OnCircuitOpenedArguments&lt;TResult&gt;, ValueTask&gt;? OnOpened { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.func-2">Func</a>&lt;<a class="xref" href="Polly.CircuitBreaker.OnCircuitOpenedArguments-1.html">OnCircuitOpenedArguments</a>&lt;TResult&gt;, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.valuetask">ValueTask</a>&gt;</dt>
    <dd><p>The default value is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null">null</a>.</p>
</dd>
  </dl>




  <h4 class="section" id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_OnOpened_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>The callbacks registered to this event are invoked with eventual consistency. There is no guarantee that the circuit breaker
doesn't change the state before the callbacks finish. If you need to know the up-to-date state of the circuit breaker use
the <a class="xref" href="Polly.CircuitBreaker.CircuitBreakerStateProvider.html#Polly_CircuitBreaker_CircuitBreakerStateProvider_CircuitState">CircuitState</a> property.</p>
<p>
Note that these events might be executed asynchronously at a later time when the circuit state is no longer the same as at the point of invocation of the event.
However, the invocation order of the <a class="xref" href="Polly.CircuitBreaker.CircuitBreakerStrategyOptions-1.html#Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_OnOpened">OnOpened</a>, <a class="xref" href="Polly.CircuitBreaker.CircuitBreakerStrategyOptions-1.html#Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_OnClosed">OnClosed</a>, and <a class="xref" href="Polly.CircuitBreaker.CircuitBreakerStrategyOptions-1.html#Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_OnHalfOpened">OnHalfOpened</a> events is always
maintained to ensure the correct sequence of state transitions.
</p>
</div>




  <a id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_SamplingDuration_" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1.SamplingDuration*"></a>

  <h3 id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_SamplingDuration" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1.SamplingDuration">
  SamplingDuration
  <a class="header-action link-secondary" title="View source" href="https://github.com/App-vNext/Polly/blob/main/src/Polly.Core/CircuitBreaker/CircuitBreakerStrategyOptions.TResult.cs/#L58"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the duration of the sampling over which failure ratios are assessed.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Range(typeof(TimeSpan), &quot;00:00:00.500&quot;, &quot;1.00:00:00&quot;)]
public TimeSpan SamplingDuration { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.timespan">TimeSpan</a></dt>
    <dd><p>The default value is 30 seconds. Value must be greater than 0.5 seconds.</p>
</dd>
  </dl>








  <a id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_ShouldHandle_" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1.ShouldHandle*"></a>

  <h3 id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_ShouldHandle" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1.ShouldHandle">
  ShouldHandle
  <a class="header-action link-secondary" title="View source" href="https://github.com/App-vNext/Polly/blob/main/src/Polly.Core/CircuitBreaker/CircuitBreakerStrategyOptions.TResult.cs/#L87"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets a predicate that determines whether the outcome should be handled by the circuit breaker.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Required]
public Func&lt;CircuitBreakerPredicateArguments&lt;TResult&gt;, ValueTask&lt;bool&gt;&gt; ShouldHandle { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.func-2">Func</a>&lt;<a class="xref" href="Polly.CircuitBreaker.CircuitBreakerPredicateArguments-1.html">CircuitBreakerPredicateArguments</a>&lt;TResult&gt;, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.valuetask-1">ValueTask</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a>&gt;&gt;</dt>
    <dd><p>The default value is a predicate that handles circuit breaker on any exception except <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.operationcanceledexception">OperationCanceledException</a>.
This property is required.</p>
</dd>
  </dl>








  <a id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_StateProvider_" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1.StateProvider*"></a>

  <h3 id="Polly_CircuitBreaker_CircuitBreakerStrategyOptions_1_StateProvider" data-uid="Polly.CircuitBreaker.CircuitBreakerStrategyOptions`1.StateProvider">
  StateProvider
  <a class="header-action link-secondary" title="View source" href="https://github.com/App-vNext/Polly/blob/main/src/Polly.Core/CircuitBreaker/CircuitBreakerStrategyOptions.TResult.cs/#L148"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the state provider for the circuit breaker.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public CircuitBreakerStateProvider? StateProvider { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="Polly.CircuitBreaker.CircuitBreakerStateProvider.html">CircuitBreakerStateProvider</a></dt>
    <dd><p>The default value is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null">null</a>.</p>
</dd>
  </dl>









</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/App-vNext/Polly/blob/main/src/Polly.Core/CircuitBreaker/CircuitBreakerStrategyOptions.TResult.cs/#L25" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
